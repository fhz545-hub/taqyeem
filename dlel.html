<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ğŸ“˜ Ø¯Ù„ÙŠÙ„ Ø§Ù„Ø¹Ù†Ø§ØµØ± ÙˆØ§Ù„Ù…Ø¹Ø§ÙŠÙŠØ± â€“ Ø§Ù„Ù†Ù…Ø§Ø°Ø¬ Ø§Ù„Ù…Ø¹ØªÙ…Ø¯Ø©</title>

<script src="https://cdn.tailwindcss.com"></script>
<link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;600;700;800&display=swap" rel="stylesheet">

<style>
:root{
  --moe:#1e8a79; --moe-d:#0c594e; --ink:#0b2f2b; --line:#e6f1ee; --muted:#6b7e7b;
  --grad:linear-gradient(135deg,#1e8a79,#23b8a2);
  --amber:#f59e0b; --red:#ef4444; --green:#16a34a; --sky:#0ea5e9;
}
*{box-sizing:border-box}
body{font-family:"Tajawal",sans-serif;background:#f9fbfa;color:var(--ink)}
.header-fallback{background:#fff;border-bottom:1px solid var(--line);padding:12px;text-align:center;color:var(--moe-d);font-weight:800}

/* Ø´Ø±ÙŠØ· Ø§Ù„Ù†Ù…Ø§Ø°Ø¬ Ø§Ù„Ù…ØµØºÙ‘Ø± */
.models-bar{background:#fff;border:1px solid var(--line);border-radius:18px;padding:.3rem .5rem;display:flex;gap:.35rem;overflow-x:auto}
.model-icon{display:inline-flex;align-items:center;gap:.45rem;border:1px solid var(--line);background:#fff;border-radius:999px;padding:.34rem .6rem;font-weight:800;font-size:.85rem}
.model-icon span{font-size:.95rem;opacity:.9}
.model-icon.active{background:var(--moe);color:#fff;border-color:transparent;box-shadow:0 6px 16px rgba(12,89,78,.18)}
.model-icon:hover{transform:translateY(-1px)}

/* Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ø¹Ù†Ø§ØµØ± */
.card{background:#fff;border:1px solid var(--line);border-radius:20px;box-shadow:0 6px 20px rgba(12,89,78,.08);transition:.2s}
.card:hover{transform:translateY(-3px);box-shadow:0 12px 28px rgba(12,89,78,.12)}
.tag{font-size:.72rem;border:1px solid var(--line);padding:.12rem .48rem;border-radius:999px;background:#f6fbf9}
.grad-bar{height:6px;border-radius:999px;background:linear-gradient(90deg,#ef4444,#f59e0b,#16a34a)}

/* Ù†Ø§ÙØ°Ø© Ù…Ù†Ø¨Ø«Ù‚Ø© */
.modal-bg{background:rgba(0,0,0,.55);backdrop-filter:saturate(140%) blur(3px)}
.modal-panel{border-radius:22px;overflow:hidden;box-shadow:0 30px 60px rgba(0,0,0,.18)}
.modal-head{background:var(--grad);color:#fff}
.level-pill{padding:.38rem .62rem;border-radius:999px;border:1px solid #ffffff66;cursor:pointer;font-weight:800;color:#fff}
.level-pill.active{background:#fff;color:var(--moe-d)}
.section-title{font-weight:900;color:var(--moe-d);letter-spacing:.2px}

/* Ù‚Ø³Ù… Ø§Ù„ÙˆØ²Ù† Ø§Ù„Ù†Ø³Ø¨ÙŠ + Ø§Ù„Ù…Ù‚ÙŠØ§Ø³ */
.weight-chip{display:inline-flex;align-items:center;gap:.35rem;padding:.3rem .6rem;border-radius:999px;background:#f1faf6;border:1px solid var(--line);font-weight:800}
.weight-chip.pulse{box-shadow:0 0 0 0 rgba(30,138,121,.5);animation:pulse .9s ease-out 1}
@keyframes pulse{to{box-shadow:0 0 0 16px rgba(30,138,121,0)}}

.impact-wrap{display:grid;gap:.35rem}
.impact-label{display:flex;justify-content:space-between;font-size:.82rem;color:#0b2f2b99}
.impact-bar{height:10px;border-radius:999px;background:#e9f4f2;overflow:hidden;border:1px solid var(--line)}
.impact-bar>div{height:100%;width:0%;transition:width .35s;}

/* ØµÙ†Ø§Ø¯ÙŠÙ‚ Ø§Ù„Ø£Ù‚Ø³Ø§Ù… */
.block{border-radius:16px;border:1px solid var(--line);background:#fbfdfc}
.block .head{display:flex;align-items:center;gap:.5rem;padding:.55rem .7rem;border-bottom:1px dashed var(--line);font-weight:900}
.block .head .ico{font-size:1.05rem}
.block .body{padding:.75rem .9rem}
.badge{display:inline-flex;align-items:center;gap:.4rem;padding:.28rem .55rem;border-radius:999px;background:#eefcf6;border:1px solid var(--line);font-size:.78rem;font-weight:800}

/* Ø´ÙˆØ§Ù‡Ø¯ Ù…Ù„ÙˆÙ‘Ù†Ø© */
.evidence-box{border-radius:14px;padding:10px 12px;border-right:6px solid}
.ev-green{background:#ecfdf5;border-color:#22c55e;color:#166534}
.ev-amber{background:#fffbeb;border-color:#f59e0b;color:#92400e}
.ev-red{background:#fef2f2;border-color:#ef4444;color:#7f1d1d}

/* ÙÙˆØ§ØµÙ„ */
.divider{height:1px;background:linear-gradient(90deg,transparent,#dbe7e4,transparent)}
</style>
</head>
<body class="min-h-screen">

<!-- Ø§Ù„Ù‡ÙŠØ¯Ø± Ù…Ù† Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© -->
<div id="headerMount"></div>

<!-- ÙˆØµÙ ØªØ±Ø¨ÙˆÙŠ Ù…Ø®ØªØµØ± Ù„Ù„ØµÙØ­Ø© -->
<section class="max-w-6xl mx-auto mt-5 px-4 sm:px-6">
  <div class="bg-white border border-[var(--line)] rounded-2xl p-6 shadow-sm">
    <h1 class="text-2xl font-extrabold text-[var(--moe-d)] mb-2">ğŸ“˜ Ø¯Ù„ÙŠÙ„ Ø§Ù„Ø¹Ù†Ø§ØµØ± ÙˆØ§Ù„Ù…Ø¹Ø§ÙŠÙŠØ± â€“ Ø§Ù„Ù†Ù…Ø§Ø°Ø¬ Ø§Ù„Ù…Ø¹ØªÙ…Ø¯Ø©</h1>
    <p class="text-[15px] leading-7 text-[color:var(--ink)/85]">
      ÙŠÙ‚Ø¯Ù‘Ù… Ù‡Ø°Ø§ Ø§Ù„Ø¯Ù„ÙŠÙ„ Ø¹Ø±Ø¶Ù‹Ø§ ØªÙØ§Ø¹Ù„ÙŠÙ‹Ø§ Ù„Ø¹Ù†Ø§ØµØ± Ø§Ù„ØªÙ‚ÙŠÙŠÙ… ÙˆØ£ÙˆØ²Ø§Ù†Ù‡Ø§ Ø§Ù„Ù†Ø³Ø¨ÙŠØ© ÙˆØ³ÙÙ„Ù‘Ù… Ø§Ù„ØªÙ‚Ø¯ÙŠØ± (Ù¥â€“Ù¡) Ù…Ø¹
      ØªÙØ³ÙŠØ± ØªØ±Ø¨ÙˆÙŠ Ù„Ù„Ø´ÙˆØ§Ù‡Ø¯ ÙˆØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…Ù…Ø§Ø±Ø³Ø§Øª ÙˆØ®Ø·ÙˆØ§Øª <b>ØªØ¹Ø²ÙŠØ² Ø§Ù„Ø£Ø«Ø± Ø§Ù„Ù‚ÙŠØ§Ø¯ÙŠ</b>. ØµÙÙ…Ù‘Ù… Ù„ØªÙŠØ³ÙŠØ± Ø§Ù„ÙˆØµÙˆÙ„
      Ù„Ù„Ù…Ø¹Ù„ÙˆÙ…Ø© ÙƒØ§Ù…Ù„Ø© ÙˆØ¨Ø³Ø±Ø¹Ø©ØŒ Ø¹Ù„Ù‰ Ø£Ù† ÙŠÙØ±Ø¬Ø¹ Ø¯Ø§Ø¦Ù…Ù‹Ø§ Ø¥Ù„Ù‰ Ø§Ù„Ø£Ø¯Ù„Ø© ÙˆØ§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø§Ù„Ø±Ø³Ù…ÙŠØ© Ø§Ù„ØµØ§Ø¯Ø±Ø© Ø¹Ù†
      <b>ÙˆØ²Ø§Ø±Ø© Ø§Ù„ØªØ¹Ù„ÙŠÙ…</b> Ù„Ø§Ø¹ØªÙ…Ø§Ø¯ Ø§Ù„Ø³ÙŠØ§Ø³Ø§Øª ÙˆØ¶ÙˆØ§Ø¨Ø· Ø§Ù„ØªØ·Ø¨ÙŠÙ‚.
    </p>
  </div>
</section>

<!-- Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù†Ù…Ø§Ø°Ø¬ Ø§Ù„Ù…ØµØºÙ‘Ø±Ø© (Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª) -->
<section class="max-w-6xl mx-auto px-4 sm:px-6 mt-4">
  <div id="modelsBar" class="models-bar">
    <!-- ÙŠÙØ­Ù‚Ù† Ø¨Ø±Ù…Ø¬ÙŠØ§Ù‹ -->
  </div>
</section>

<!-- Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ø¹Ù†Ø§ØµØ± -->
<main class="max-w-6xl mx-auto px-4 sm:px-6 mt-6 mb-16">
  <div id="cardsContainer" class="grid sm:grid-cols-2 lg:grid-cols-3 gap-6"></div>
</main>

<!-- Ù†Ø§ÙØ°Ø© Ø§Ù„Ø¹Ù†Ø§ØµØ± -->
<div id="modal" class="fixed inset-0 hidden items-start sm:items-center justify-center modal-bg z-50 p-3 sm:p-6">
  <div class="bg-white w-full max-w-5xl modal-panel relative">
    <!-- Ø±Ø£Ø³ -->
    <div class="modal-head px-5 py-3 flex items-center justify-between gap-3">
      <div class="font-extrabold text-lg" id="modalTitle">â€”</div>
      <div class="flex items-center gap-2">
        <div id="weightChip" class="weight-chip" title="Ø§Ù„ÙˆØ²Ù† Ø§Ù„Ù†Ø³Ø¨ÙŠ Ù„Ù„Ø¹Ù†ØµØ±">
          <span>Ø§Ù„ÙˆØ²Ù†</span><b id="metaWeight">â€”</b>
        </div>
        <button onclick="closeModal()" class="text-white/95 hover:text-white text-2xl leading-none" title="Ø¥ØºÙ„Ø§Ù‚">âœ–</button>
      </div>
    </div>

    <!-- ØªØ¨ÙˆÙŠØ¨Ø§Øª Ø§Ù„Ù…Ø³ØªÙˆÙ‰ + Ù…Ù‚ÙŠØ§Ø³ Ø§Ù„Ø£Ø«Ø± -->
    <div class="px-5 pt-3 pb-2">
      <div class="flex items-center justify-between gap-3 flex-wrap">
        <div id="levelTabs" class="flex items-center gap-2"></div>
        <div class="impact-wrap min-w-[260px]">
          <div class="impact-label">
            <span><b>Ù…Ù‚ÙŠØ§Ø³ Ø§Ù„Ø£Ø«Ø±</b> (ÙˆØ²Ù† Ã— Ù…Ø³ØªÙˆÙ‰)</span>
            <span id="impactValue">0%</span>
          </div>
          <div class="impact-bar"><div id="impactFill"></div></div>
        </div>
      </div>
    </div>
    <div class="divider mx-5 mb-2"></div>

    <!-- Ù…Ø­ØªÙˆÙ‰ ØºÙ†ÙŠÙ‘: Ø§Ù„ÙˆØµÙ / Ø§Ù„Ø´ÙˆØ§Ù‡Ø¯ / Ø§Ù„ØªØ­Ù„ÙŠÙ„ / ØªØ¹Ø²ÙŠØ² Ø§Ù„Ø£Ø«Ø± -->
    <div class="px-5 pb-6">
      <div class="grid lg:grid-cols-2 gap-5">
        <!-- Ø§Ù„ÙˆØµÙ + Ø§Ù„Ø´ÙˆØ§Ù‡Ø¯ -->
        <section class="block">
          <div class="head"><span class="ico">ğŸ“</span> Ø§Ù„ÙˆØµÙ</div>
          <div class="body"><p id="descText" class="leading-8"></p></div>

          <div class="head"><span class="ico">ğŸ“</span> Ø§Ù„Ø´ÙˆØ§Ù‡Ø¯ (Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰/Ø§Ù„ÙƒÙ…Ø§Ù„)</div>
          <div class="body">
            <div id="evidenceBox" class="evidence-box"></div>
            <ul id="evidenceList" class="list-disc list-inside text-[15px] mt-2 space-y-1"></ul>
          </div>
        </section>

        <!-- Ø§Ù„ØªØ­Ù„ÙŠÙ„ + ØªØ¹Ø²ÙŠØ² Ø§Ù„Ø£Ø«Ø± -->
        <section class="block">
          <div class="head"><span class="ico">ğŸ”</span> ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…Ù…Ø§Ø±Ø³Ø§Øª</div>
          <div class="body"><ul id="analysisList" class="list-disc list-inside text-[15px] space-y-1"></ul></div>

          <div class="head"><span class="ico">ğŸš€</span> ØªØ¹Ø²ÙŠØ² Ø§Ù„Ø£Ø«Ø± Ø§Ù„Ù‚ÙŠØ§Ø¯ÙŠ</div>
          <div class="body">
            <div class="badge mb-2">Ø®Ø·ÙˆØ§Øª Ø¹Ù…Ù„ÙŠØ© Ù…ÙÙ‚ØªØ±Ø­Ø©</div>
            <ul id="improveList" class="list-disc list-inside text-[15px] space-y-1"></ul>
          </div>
        </section>
      </div>
    </div>
  </div>
</div>

<script>
/* ============= 1) Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø§Ù„Ù‡ÙŠØ¯Ø± ============= */
async function importHeader(){
  const mount = document.getElementById('headerMount');
  const homeUrl = localStorage.getItem('taqyeem:homeUrl') || 'index.html';
  try{
    const res = await fetch(homeUrl);
    const html = await res.text();
    const doc = new DOMParser().parseFromString(html,'text/html');
    const header = doc.querySelector('header') || doc.querySelector('#mainHeader');
    mount.innerHTML = header ? header.outerHTML : `<div class="header-fallback">Ø§Ù„Ø¯Ù„ÙŠÙ„ Ø§Ù„Ø¥Ø±Ø´Ø§Ø¯ÙŠ</div>`;
  }catch{
    mount.innerHTML = `<div class="header-fallback">Ø§Ù„Ø¯Ù„ÙŠÙ„ Ø§Ù„Ø¥Ø±Ø´Ø§Ø¯ÙŠ</div>`;
  }
}

/* ============= 2) ØªØ¹Ø±ÙŠÙ Ø§Ù„Ù†Ù…Ø§Ø°Ø¬ ============= */
const MODELS = [
  { id:'teacher', icon:'ğŸ‘¨â€ğŸ«', name:'Ø§Ù„Ù…Ø¹Ù„Ù…',
    items:[
      ["Ø£Ø¯Ø§Ø¡ Ø§Ù„ÙˆØ§Ø¬Ø¨Ø§Øª Ø§Ù„ÙˆØ¸ÙŠÙÙŠØ©","10%","duties"],
      ["Ø§Ù„ØªÙØ§Ø¹Ù„ Ù…Ø¹ Ø§Ù„Ù…Ø¬ØªÙ…Ø¹ Ø§Ù„Ù…Ù‡Ù†ÙŠ","10%","professional_community"],
      ["Ø§Ù„ØªÙØ§Ø¹Ù„ Ù…Ø¹ Ø£ÙˆÙ„ÙŠØ§Ø¡ Ø§Ù„Ø£Ù…ÙˆØ±","10%","parents_interaction"],
      ["Ø§Ù„ØªÙ†ÙˆØ¹ ÙÙŠ Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ§Øª Ø§Ù„ØªØ¯Ø±ÙŠØ³","10%","teaching_strategies"],
      ["ØªØ­Ø³ÙŠÙ† Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ù…ØªØ¹Ù„Ù…ÙŠÙ†","10%","student_results"],
      ["Ø¥Ø¹Ø¯Ø§Ø¯ ÙˆØªÙ†ÙÙŠØ° Ø®Ø·Ø© Ø§Ù„ØªØ¹Ù„Ù…","10%","learning_plan"],
      ["ØªÙˆØ¸ÙŠÙ Ø§Ù„ØªÙ‚Ù†ÙŠØ§Øª ÙˆØ§Ù„ÙˆØ³Ø§Ø¦Ù„","10%","tech_and_tools"],
      ["ØªÙ‡ÙŠØ¦Ø© Ø¨ÙŠØ¦Ø© ØªØ¹Ù„ÙŠÙ…ÙŠØ©","5%","learning_environment"],
      ["Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØµÙÙŠØ©","5%","classroom_management"],
      ["ØªØ­Ù„ÙŠÙ„ Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ù…ØªØ¹Ù„Ù…ÙŠÙ†","10%","results_analysis"],
      ["ØªÙ†ÙˆØ¹ Ø£Ø³Ø§Ù„ÙŠØ¨ Ø§Ù„ØªÙ‚ÙˆÙŠÙ…","10%","assessment_variety"],
    ]},
  { id:'teacher_activity', icon:'ğŸ¯', name:'Ù…Ø¹Ù„Ù… Ù†Ø´Ø§Ø·',
    items:[
      ["Ø£Ø¯Ø§Ø¡ Ø§Ù„ÙˆØ§Ø¬Ø¨Ø§Øª Ø§Ù„ÙˆØ¸ÙŠÙÙŠØ©","10%","duties"],
      ["Ø§Ù„ØªÙØ§Ø¹Ù„ Ù…Ø¹ Ø§Ù„Ù…Ø¬ØªÙ…Ø¹ Ø§Ù„Ù…Ù‡Ù†ÙŠ","10%","professional_community"],
      ["Ø§Ù„ØªÙØ§Ø¹Ù„ Ù…Ø¹ Ø£ÙˆÙ„ÙŠØ§Ø¡ Ø§Ù„Ø£Ù…ÙˆØ±","10%","parents_interaction"],
      ["Ø§Ù„ØªÙ†ÙˆØ¹ ÙÙŠ Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ§Øª Ø§Ù„ØªØ¯Ø±ÙŠØ³","5%","teaching_strategies"],
      ["ØªØ­Ø³ÙŠÙ† Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ù…ØªØ¹Ù„Ù…ÙŠÙ†","5%","student_results"],
      ["Ø¥Ø¹Ø¯Ø§Ø¯ ÙˆØªÙ†ÙÙŠØ° Ø®Ø·Ø© Ø§Ù„ØªØ¹Ù„Ù…","5%","learning_plan"],
      ["ØªÙˆØ¸ÙŠÙ Ø§Ù„ØªÙ‚Ù†ÙŠØ§Øª ÙˆØ§Ù„ÙˆØ³Ø§Ø¦Ù„","5%","tech_and_tools"],
      ["ØªÙ‡ÙŠØ¦Ø© Ø¨ÙŠØ¦Ø© ØªØ¹Ù„ÙŠÙ…ÙŠØ©","5%","learning_environment"],
      ["Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØµÙÙŠØ©","5%","classroom_management"],
      ["ØªØ­Ù„ÙŠÙ„ Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ù…ØªØ¹Ù„Ù…ÙŠÙ†","5%","results_analysis"],
      ["ØªÙ†ÙˆØ¹ Ø£Ø³Ø§Ù„ÙŠØ¨ Ø§Ù„ØªÙ‚ÙˆÙŠÙ…","5%","assessment_variety"],
      ["Ø®Ø·Ø© Ø¨Ø±Ø§Ù…Ø¬ Ø§Ù„Ù†Ø´Ø§Ø· Ø§Ù„Ø·Ù„Ø§Ø¨ÙŠ","10%","activity_plan"],
      ["ØªÙ‡ÙŠØ¦Ø© Ø¨ÙŠØ¦Ø© Ø§Ù„Ø£Ù†Ø´Ø·Ø©","5%","activity_env"],
      ["Ø¯Ø¹Ù… Ù†Ù…Ùˆ Ù…ÙŠÙˆÙ„ Ø§Ù„Ù…Ø¹Ù„Ù…ÙŠÙ† Ù„Ù„Ø£Ù†Ø´Ø·Ø©","5%","activity_support_teachers"],
      ["Ø§Ù„ØªØ²Ø§Ù… Ø§Ù„Ù…ØªØ¹Ù„Ù…ÙŠÙ† Ø¨Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ©","10%","activity_students_commit"],
    ]},
  { id:'teacher_health', icon:'ğŸ¥', name:'ØªÙˆØ¬ÙŠÙ‡ ØµØ­ÙŠ',
    items:[
      ["Ø£Ø¯Ø§Ø¡ Ø§Ù„ÙˆØ§Ø¬Ø¨Ø§Øª Ø§Ù„ÙˆØ¸ÙŠÙÙŠØ©","10%","duties"],
      ["Ø§Ù„ØªÙØ§Ø¹Ù„ Ù…Ø¹ Ø§Ù„Ù…Ø¬ØªÙ…Ø¹ Ø§Ù„Ù…Ù‡Ù†ÙŠ","10%","professional_community"],
      ["Ø§Ù„ØªÙØ§Ø¹Ù„ Ù…Ø¹ Ø£ÙˆÙ„ÙŠØ§Ø¡ Ø§Ù„Ø£Ù…ÙˆØ±","10%","parents_interaction"],
      ["Ø§Ù„ØªÙ†ÙˆØ¹ ÙÙŠ Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ§Øª Ø§Ù„ØªØ¯Ø±ÙŠØ³","5%","teaching_strategies"],
      ["ØªØ­Ø³ÙŠÙ† Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ù…ØªØ¹Ù„Ù…ÙŠÙ†","5%","student_results"],
      ["Ø¥Ø¹Ø¯Ø§Ø¯ ÙˆØªÙ†ÙÙŠØ° Ø®Ø·Ø© Ø§Ù„ØªØ¹Ù„Ù…","5%","learning_plan"],
      ["ØªÙˆØ¸ÙŠÙ Ø§Ù„ØªÙ‚Ù†ÙŠØ§Øª ÙˆØ§Ù„ÙˆØ³Ø§Ø¦Ù„","5%","tech_and_tools"],
      ["ØªÙ‡ÙŠØ¦Ø© Ø¨ÙŠØ¦Ø© ØªØ¹Ù„ÙŠÙ…ÙŠØ©","5%","learning_environment"],
      ["Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØµÙÙŠØ©","5%","classroom_management"],
      ["ØªØ­Ù„ÙŠÙ„ Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ù…ØªØ¹Ù„Ù…ÙŠÙ†","5%","results_analysis"],
      ["ØªÙ†ÙˆØ¹ Ø£Ø³Ø§Ù„ÙŠØ¨ Ø§Ù„ØªÙ‚ÙˆÙŠÙ…","5%","assessment_variety"],
      ["Ø§Ù„Ø®Ø·Ø© Ø§Ù„ØµØ­ÙŠØ© Ø§Ù„Ù…Ø´ØªØ±ÙƒØ©","15%","health_joint_plan"],
      ["Ø­ØµØ± Ø§Ù„Ø­Ø§Ù„Ø§Øª Ø§Ù„ØµØ­ÙŠØ©","5%","health_cases"],
      ["ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø¨ÙŠØ¦Ø© Ø§Ù„ØµØ­ÙŠØ©","10%","health_env"],
    ]},
  { id:'kg', icon:'ğŸ§’', name:'Ø±ÙŠØ§Ø¶ Ø§Ù„Ø£Ø·ÙØ§Ù„',
    items:[
      ["Ø£Ø¯Ø§Ø¡ Ø§Ù„ÙˆØ§Ø¬Ø¨Ø§Øª Ø§Ù„ÙˆØ¸ÙŠÙÙŠØ©","10%","duties"],
      ["Ø§Ù„ØªÙØ§Ø¹Ù„ Ù…Ø¹ Ø§Ù„Ù…Ø¬ØªÙ…Ø¹ Ø§Ù„Ù…Ù‡Ù†ÙŠ","5%","professional_community"],
      ["Ø§Ù„ØªÙØ§Ø¹Ù„ Ù…Ø¹ Ø£ÙˆÙ„ÙŠØ§Ø¡ Ø§Ù„Ø£Ù…ÙˆØ±","5%","parents_interaction"],
      ["Ø§Ù„ØªÙ†ÙˆØ¹ ÙÙŠ Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ§Øª Ø§Ù„ØªØ¯Ø±ÙŠØ³","5%","teaching_strategies"],
      ["ØªØ­Ø³ÙŠÙ† Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ù…ØªØ¹Ù„Ù…ÙŠÙ†","5%","student_results"],
      ["Ø®Ø·Ø© Ø£Ù†Ø´Ø·Ø© Ø´Ø§Ù…Ù„Ø©","5%","kg_plan"],
      ["Ø®Ø¨Ø±Ø§Øª ØªØ¹Ù„Ù… Ù…Ø±Ù†Ø©","5%","kg_experiences"],
      ["ØªÙˆØ¸ÙŠÙ Ø§Ù„ØªÙ‚Ù†ÙŠØ§Øª ÙˆØ§Ù„ÙˆØ³Ø§Ø¦Ù„","5%","tech_and_tools"],
      ["Ø§Ù„ØªÙ…ÙƒÙ† Ù…Ù† Ø§Ù„Ù…Ø­ØªÙˆÙ‰","5%","kg_content_mastery"],
      ["Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ§Øª ØªØ¯Ø±ÙŠØ³ ÙØ§Ø¹Ù„Ø©","5%","teaching_strategies"],
      ["Ø¥Ø´Ø±Ø§Ùƒ Ø§Ù„Ø£Ø³Ø±Ø©","5%","kg_parents_involve"],
      ["Ø¨ÙŠØ¦Ø© Ø¢Ù…Ù†Ø© ÙˆÙ…Ø­ÙØ²Ø©","15%","kg_env_safe"],
      ["ØªÙ†Ø¸ÙŠÙ… Ø§Ù„ØªØ¹Ù„Ù… Ø§Ù„Ù†Ø´Ø·","5%","kg_active_learning"],
      ["Ù…Ø±Ø§Ø¹Ø§Ø© Ø§Ù„ÙØ±ÙˆÙ‚ Ø§Ù„ÙØ±Ø¯ÙŠØ©","5%","kg_diff"],
      ["Ø´Ø±Ø§ÙƒØ© Ø§Ù„Ø£Ø³Ø±Ø© Ù„Ø¯Ø¹Ù… Ø§Ù„ØªØ¹Ù„Ù…","5%","kg_family_partnership"],
      ["Ù…ØªØ§Ø¨Ø¹Ø© ØªÙ‚Ø¯Ù… Ø§Ù„Ø£Ø·ÙØ§Ù„","5%","kg_progress_follow"],
      ["Ø£Ø¯ÙˆØ§Øª ØªÙ‚ÙˆÙŠÙ… Ù…Ù†Ø§Ø³Ø¨Ø©","5%","kg_assessment"],
      ["Ù‚ÙŠØ§Ø³ Ø§Ù„Ø£Ø«Ø± Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠ","5%","kg_impact"],
      ["ØºØ±Ø³ Ø§Ù„Ù‚ÙŠÙ… ÙˆØ§Ù„Ù‡ÙˆÙŠØ©","5%","kg_values"],
    ]},
  { id:'lab', icon:'ğŸ§ª', name:'Ù…Ø­Ø¶Ø± Ø§Ù„Ù…Ø®ØªØ¨Ø±',
    items:[
      ["Ø£Ø¯Ø§Ø¡ Ø§Ù„ÙˆØ§Ø¬Ø¨Ø§Øª Ø§Ù„ÙˆØ¸ÙŠÙÙŠØ©","10%","duties"],
      ["Ø§Ù„ØªÙØ§Ø¹Ù„ Ù…Ø¹ Ø§Ù„Ù…Ø¬ØªÙ…Ø¹ Ø§Ù„Ù…Ù‡Ù†ÙŠ","10%","professional_community"],
      ["Ø§Ù„ØªÙØ§Ø¹Ù„ Ù…Ø¹ Ø£ÙˆÙ„ÙŠØ§Ø¡ Ø§Ù„Ø£Ù…ÙˆØ±","10%","parents_interaction"],
      ["Ø¯Ø¹Ù… Ø§Ù„ØªØ¯Ø±ÙŠØ³ Ø§Ù„Ø¹Ù…Ù„ÙŠ","10%","lab_teaching_support"],
      ["ØªØ­Ø³ÙŠÙ† Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ù…ØªØ¹Ù„Ù…ÙŠÙ†","10%","lab_students_results"],
      ["Ø®Ø·Ø© ÙŠÙˆÙ…ÙŠØ© Ù„Ù„Ù…Ø®ØªØ¨Ø±","5%","lab_daily_plan"],
      ["Ù…Ø¹Ø±ÙØ© ÙÙ†ÙŠØ© Ø¨Ø§Ù„Ù…ÙØ§Ù‡ÙŠÙ…","5%","lab_knowledge"],
      ["ØªÙˆÙÙŠØ± Ø§Ù„Ù…Ø³ØªÙ„Ø²Ù…Ø§Øª Ù„Ù„ØªØ¬Ø§Ø±Ø¨","5%","lab_provisions"],
      ["Ø³Ù„Ø§Ù…Ø© Ø§Ù„Ù…Ø®ØªØ¨Ø±","5%","lab_safety"],
      ["ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù…Ø®ØªØ¨Ø± ÙˆØªØ¬Ù‡ÙŠØ²Ù‡","5%","lab_prep"],
      ["Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© ÙˆØªØ³Ù„ÙŠÙ…Ù‡Ø§","5%","lab_devices_manage"],
      ["ØªÙ‚Ø±ÙŠØ± Ø£Ù†Ø´Ø·Ø© Ø£Ø³Ø¨ÙˆØ¹ÙŠ","10%","lab_weekly_report"],
      ["ØªÙ‚Ø§Ø±ÙŠØ± Ø­Ø§Ù„Ø© Ø§Ù„Ø£Ø¬Ù‡Ø²Ø©","10%","lab_equipment_status"],
    ]},
  { id:'counselor', icon:'ğŸ§­', name:'Ø§Ù„Ù…ÙˆØ¬Ù‘Ù‡ Ø§Ù„Ø·Ù„Ø§Ø¨ÙŠ',
    items:[
      ["Ø£Ø¯Ø§Ø¡ Ø§Ù„ÙˆØ§Ø¬Ø¨Ø§Øª Ø§Ù„ÙˆØ¸ÙŠÙÙŠØ©","20%","duties"],
      ["Ø§Ù„ØªÙØ§Ø¹Ù„ Ù…Ø¹ Ø§Ù„Ù…Ø¬ØªÙ…Ø¹ Ø§Ù„Ù…Ù‡Ù†ÙŠ","5%","professional_community"],
      ["Ø§Ù„ØªÙØ§Ø¹Ù„ Ù…Ø¹ Ø£ÙˆÙ„ÙŠØ§Ø¡ Ø§Ù„Ø£Ù…ÙˆØ±","5%","parents_interaction"],
      ["ØªØ¯Ø®Ù„Ø§Øª Ù„ØªØ¹Ø²ÙŠØ² Ø§Ù„Ø§Ù†Ø¶Ø¨Ø§Ø·","5%","c_interventions"],
      ["Ø¨Ø±Ø§Ù…Ø¬ Ø±ÙØ¹ Ø§Ù„Ø¯Ø§ÙØ¹ÙŠØ©","5%","c_motivation_programs"],
      ["Ø®Ø·Ø© Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ Ø§Ù„Ø·Ù„Ø§Ø¨ÙŠ","10%","c_guidance_plan"],
      ["Ø¨Ø±Ø§Ù…Ø¬ Ø¯Ø¹Ù… Ø§Ù„Ø­Ø§Ù„Ø§Øª","10%","c_case_management"],
      ["ØªØ¹Ø²ÙŠØ² Ø§Ù„Ù‚ÙŠÙ… ÙˆØ§Ù„Ø³Ù„ÙˆÙƒÙŠØ§Øª","10%","c_values"],
      ["Ø£Ù†Ø´Ø·Ø© ÙˆÙ‚Ø§Ø¦ÙŠØ©/Ø¹Ù„Ø§Ø¬ÙŠØ© Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ©","10%","c_preventive"],
      ["Ù…Ø³Ø§Ù†Ø¯Ø© ØªØ®Ø·ÙŠØ· Ø§Ù„Ù…Ø¹Ù„Ù…ÙŠÙ†","5%","c_help_teachers"],
      ["ØªØ¹Ø²ÙŠØ² Ø§Ù„ØªÙÙˆÙ‚ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ","5%","c_achievement"],
      ["Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„Ù…ØªØ£Ø®Ø±ÙŠÙ† Ø¯Ø±Ø§Ø³ÙŠÙ‹Ø§/Ø³Ù„ÙˆÙƒÙŠÙ‹Ø§","5%","c_follow_cases"],
      ["ØªÙˆØ¹ÙŠØ© Ø§Ù„Ø­Ù‚ÙˆÙ‚ ÙˆØ§Ù„ÙˆØ§Ø¬Ø¨Ø§Øª","5%","c_awareness"],
    ]},
  { id:'principal', icon:'ğŸ«', name:'Ù…Ø¯ÙŠØ± Ø§Ù„Ù…Ø¯Ø±Ø³Ø©',
    items:[
      ["Ø£Ø¯Ø§Ø¡ Ø§Ù„ÙˆØ§Ø¬Ø¨Ø§Øª Ø§Ù„ÙˆØ¸ÙŠÙÙŠØ©","5%","duties"],
      ["Ø§Ù„ØªÙØ§Ø¹Ù„ Ù…Ø¹ Ø§Ù„Ù…Ø¬ØªÙ…Ø¹ Ø§Ù„Ù…Ù‡Ù†ÙŠ","5%","professional_community"],
      ["Ø§Ù„ØªÙØ§Ø¹Ù„ Ù…Ø¹ Ø£ÙˆÙ„ÙŠØ§Ø¡ Ø§Ù„Ø£Ù…ÙˆØ±","5%","parents_interaction"],
      ["Ù…Ø±ÙˆÙ†Ø© ÙÙŠ Ø¥Ù†Ø¬Ø§Ø² Ø§Ù„Ø£Ø¹Ù…Ø§Ù„","5%","p_flexibility"],
      ["Ø§Ù„Ù…Ø¨Ø§Ø¯Ø±Ø§Øª Ø§Ù„Ù†ÙˆØ¹ÙŠØ©","5%","p_initiatives"],
      ["Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø§Ù„Ø§Ù†Ø¶Ø¨Ø§Ø· Ø§Ù„Ù…Ø¯Ø±Ø³ÙŠ","5%","p_discipline"],
      ["Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…ÙˆØ§Ø±Ø¯ Ø¨ÙƒÙØ§Ø¡Ø©","5%","p_resources"],
      ["Ø®Ø·Ø· Ø§Ù„ØªØ·ÙˆÙŠØ± Ø§Ù„Ù…Ù‡Ù†ÙŠ","5%","p_pd_plan"],
      ["ØªØºØ°ÙŠØ© Ø±Ø§Ø¬Ø¹Ø© ÙˆÙ…Ø¤Ø´Ø±Ø§Øª Ø§Ù„Ø£Ø¯Ø§Ø¡","5%","p_feedback_kpis"],
      ["Ø¯Ø¹Ù… Ø¨Ø±Ø§Ù…Ø¬ Ø§Ù„ØªØ·ÙˆÙŠØ± Ø§Ù„Ù…Ù‡Ù†ÙŠ","5%","p_pd_support"],
      ["ØªÙ‚ÙŠÙŠÙ… Ø£Ø¯Ø§Ø¡ Ø§Ù„Ù…Ù†Ø³ÙˆØ¨ÙŠÙ†","5%","p_staff_eval"],
      ["ØªØ­Ø³ÙŠÙ† Ù†ØªØ§Ø¦Ø¬ Ø§Ù„ØªØ¹Ù„Ù…","15%","p_learning_results"],
      ["Ø±ÙØ¹ Ù…Ø³ØªÙˆÙ‰ Ø£Ø¯Ø§Ø¡ Ø§Ù„Ù…Ø¯Ø±Ø³Ø©","10%","p_school_lead"],
      ["Ø¥Ø´Ø±Ø§Ùƒ Ø§Ù„Ù…Ø¬ØªÙ…Ø¹ Ø§Ù„Ù…Ø¯Ø±Ø³ÙŠ","5%","p_community"],
      ["ÙØ±Øµ Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„Ø·Ù„Ø§Ø¨","5%","p_students_opps"],
      ["ØªÙˆØ¸ÙŠÙ Ø§Ù„Ù…Ù†ØµØ§Øª Ø§Ù„Ø±Ù‚Ù…ÙŠØ©","5%","p_edtech"],
      ["ØªØ¹Ø²ÙŠØ² Ø§Ù„Ø³Ù„ÙˆÙƒ Ø§Ù„Ø¥ÙŠØ¬Ø§Ø¨ÙŠ","5%","p_behavior_pos"],
      ["Ø¨ÙŠØ¦Ø© Ø¢Ù…Ù†Ø© ÙˆÙ…Ø­ÙØ²Ø©","5%","p_safe_env"],
    ]},
  { id:'vp', icon:'ğŸ§©', name:'ÙˆÙƒÙŠÙ„ Ø§Ù„Ù…Ø¯Ø±Ø³Ø©',
    items:[
      ["Ø£Ø¯Ø§Ø¡ Ø§Ù„ÙˆØ§Ø¬Ø¨Ø§Øª Ø§Ù„ÙˆØ¸ÙŠÙÙŠØ©","5%","duties"],
      ["Ø§Ù„ØªÙØ§Ø¹Ù„ Ù…Ø¹ Ø§Ù„Ù…Ø¬ØªÙ…Ø¹ Ø§Ù„Ù…Ù‡Ù†ÙŠ","5%","professional_community"],
      ["Ø§Ù„ØªÙØ§Ø¹Ù„ Ù…Ø¹ Ø£ÙˆÙ„ÙŠØ§Ø¡ Ø§Ù„Ø£Ù…ÙˆØ±","5%","parents_interaction"],
      ["Ù…Ø±ÙˆÙ†Ø© ÙÙŠ Ø¥Ù†Ø¬Ø§Ø² Ø§Ù„Ø£Ø¹Ù…Ø§Ù„","5%","v_flexibility"],
      ["Ø§Ù„Ù…Ø¨Ø§Ø¯Ø±Ø§Øª Ø§Ù„Ù†ÙˆØ¹ÙŠØ©","10%","v_initiatives"],
      ["Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø§Ù„Ø§Ù†Ø¶Ø¨Ø§Ø· Ø§Ù„Ù…Ø¯Ø±Ø³ÙŠ","5%","v_discipline"],
      ["Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…ÙˆØ§Ø±Ø¯ Ø¨ÙƒÙØ§Ø¡Ø©","5%","v_resources"],
      ["Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ© ÙÙŠ Ø®Ø·Ø· Ø§Ù„ØªØ·ÙˆÙŠØ± Ø§Ù„Ù…Ù‡Ù†ÙŠ","5%","v_pd_plan"],
      ["Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„ØªØºØ°ÙŠØ© Ø§Ù„Ø±Ø§Ø¬Ø¹Ø© ÙˆØ§Ù„Ù…Ø¤Ø´Ø±Ø§Øª","5%","v_feedback_kpis"],
      ["Ø¯Ø¹Ù… Ø¨Ø±Ø§Ù…Ø¬ Ø§Ù„ØªØ·ÙˆÙŠØ± Ø§Ù„Ù…Ù‡Ù†ÙŠ","5%","v_pd_support"],
      ["ØªÙ‚ÙŠÙŠÙ… Ø£Ø¯Ø§Ø¡ Ø§Ù„Ù…Ù†Ø³ÙˆØ¨ÙŠÙ†","5%","v_staff_eval"],
      ["ØªØ­Ø³ÙŠÙ† Ù†ØªØ§Ø¦Ø¬ Ø§Ù„ØªØ¹Ù„Ù…","15%","v_learning_results"],
      ["Ù‚ÙŠØ§Ø¯Ø© Ù…Ø¨Ø§Ø¯Ø±Ø§Øª Ø¯Ø§Ø®Ù„ Ø§Ù„Ù…Ø¯Ø±Ø³Ø©","5%","v_school_lead"],
      ["Ø¥Ø´Ø±Ø§Ùƒ Ø§Ù„Ù…Ø¬ØªÙ…Ø¹ Ø§Ù„Ù…Ø¯Ø±Ø³ÙŠ","5%","v_community"],
      ["ÙØ±Øµ Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„Ø·Ù„Ø§Ø¨","5%","v_students_opps"],
      ["ØªÙˆØ¸ÙŠÙ Ø§Ù„Ù…Ù†ØµØ§Øª Ø§Ù„Ø±Ù‚Ù…ÙŠØ©","5%","v_edtech"],
      ["ØªØ¹Ø²ÙŠØ² Ø§Ù„Ø³Ù„ÙˆÙƒ Ø§Ù„Ø¥ÙŠØ¬Ø§Ø¨ÙŠ","5%","v_behavior_pos"],
      ["Ø¨ÙŠØ¦Ø© Ø¢Ù…Ù†Ø© ÙˆÙ…Ø­ÙØ²Ø©","5%","v_safe_env"],
    ]},
];

/* ============= 3) Ø¨Ù†Ùƒ Ø§Ù„Ù…Ø³ØªÙˆÙŠØ§Øª (Ù…ÙØ«Ø±ÙŠ) ============= */
const RUBRIC = {
  common:{
    5:{desc:"Ù‚Ø¯ÙˆØ© Ù…Ù‡Ù†ÙŠØ© ÙŠØ¨ØªÙƒØ± Ù…Ù…Ø§Ø±Ø³Ø§Øª ÙˆØ§Ø¹ØªÙ…Ø§Ø¯Ù‡Ø§ Ù…Ø¹ÙŠØ§Ø±Ù‹Ø§Ø› Ø£Ø«Ø± Ù…Ù„Ù…ÙˆØ³ Ø¹Ù„Ù‰ Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ù…Ø¯Ø±Ø³Ø©/Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©.",
       ev:["ØªÙˆØ«ÙŠÙ‚ Ù…Ø¨Ø§Ø¯Ø±Ø§Øª Ù…Ø¨ØªÙƒØ±Ø© Ù…Ø¹ Ù…ÙˆØ§ÙÙ‚Ø§Øª/Ø§Ø¹ØªÙ…Ø§Ø¯Ø§Øª","ØªÙ‚Ø§Ø±ÙŠØ± Ø£Ø«Ø± Ø±Ù‚Ù…ÙŠØ© (Ù‚Ø¨Ù„/Ø¨Ø¹Ø¯)","Ù…Ø­Ø§Ø¶Ø± Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„Ù…Ù…Ø§Ø±Ø³Ø© Ù…Ù‡Ù†ÙŠÙ‹Ø§"],
       analysis:["Ø§Ù†Ø¶Ø¨Ø§Ø· Ø¹Ø§Ù„Ù ÙˆØ§ØªØ³Ø§Ù‚ ÙÙŠ Ø§Ù„Ø£Ø¯Ø§Ø¡","ØªØµÙ…ÙŠÙ… Ø­Ù„ÙˆÙ„ Ù„Ù„Ù…Ø´ÙƒÙ„Ø§Øª Ø§Ù„Ù…ØªÙƒØ±Ø±Ø©","Ø¥Ø¯Ø§Ø±Ø© ÙˆÙ‚Øª ÙˆÙ…ÙˆØ§Ø±Ø¯ Ø¨ÙƒÙØ§Ø¡Ø©"],
       improve:["ØªÙˆØ³ÙŠØ¹ Ù†Ø·Ø§Ù‚ Ø§Ù„Ù…Ù…Ø§Ø±Ø³Ø© Ø¯Ø§Ø®Ù„ Ø§Ù„Ø£Ù‚Ø³Ø§Ù…","Ø±Ø¨Ø· Ø§Ù„Ø£Ø«Ø± Ø¨Ù…Ø¤Ø´Ø±Ø§Øª Ø£Ø¯Ø§Ø¡ Ø§Ù„Ù…Ø¯Ø±Ø³Ø©","Ù†Ø´Ø± Ø§Ù„Ù…Ø¹Ø±ÙØ© Ø¹Ø¨Ø± PLC ÙˆØªÙ‚Ø§Ø±ÙŠØ± Ù…ÙˆØ¬Ø²Ø©"]},
    4:{desc:"ÙŠØªØ¬Ø§ÙˆØ² Ø§Ù„Ù…ØªÙˆÙ‚Ø¹ ÙˆÙŠØ¹Ø§Ù„Ø¬ Ø§Ù„ØªØ­Ø¯ÙŠØ§Øª Ø¨Ø§Ø³ØªØ¨Ø§Ù‚ÙŠØ© ÙˆÙŠØ¯Ø¹Ù… Ø§Ù„Ø²Ù…Ù„Ø§Ø¡ Ø¨Ø§Ù„Ù…Ù…Ø§Ø±Ø³Ø© Ø§Ù„Ø¬ÙŠØ¯Ø©.",
       ev:["Ù…Ø­Ø§Ø¶Ø±/ØªÙ‚Ø§Ø±ÙŠØ± ØªØ·Ø¨ÙŠÙ‚ Ù†Ø§Ø¬Ø­","Ø³Ø¬Ù„ Ø¯Ø¹Ù… Ø²Ù…Ù„Ø§Ø¡/Ø²ÙŠØ§Ø±Ø§Øª ØªØ¨Ø§Ø¯Ù„ÙŠØ©"],
       analysis:["ØªØ­Ù„ÙŠÙ„ Ø£Ø³Ø¨Ø§Ø¨ Ø§Ù„ÙØ¬ÙˆØ§Øª","ØªÙ†Ø³ÙŠÙ‚ Ø¬Ù‡ÙˆØ¯ Ø§Ù„ÙØ±ÙŠÙ‚","ØªÙˆØ«ÙŠÙ‚ Ø´Ø¨Ù‡ Ù…Ù†ØªØ¸Ù…"],
       improve:["ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø­Ù„ÙˆÙ„ Ø¥Ù„Ù‰ Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ù…Ø¹ÙŠØ§Ø±ÙŠØ©","Ø±ÙØ¹ ÙˆØªÙŠØ±Ø© Ø§Ù„ØªÙˆØ«ÙŠÙ‚ ÙˆÙ‚ÙŠØ§Ø³ Ø§Ù„Ø£Ø«Ø±"]},
    3:{desc:"Ø£Ø¯Ø§Ø¡ Ù…Ø³ØªÙ‚Ø± Ø¶Ù…Ù† Ø§Ù„Ø­Ø¯ÙˆØ¯ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© ÙˆÙ…ØªØ·Ù„Ø¨Ø§Øª Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„Ù†Ø¸Ø§Ù…ÙŠØ©.",
       ev:["Ø³Ø¬Ù„Ø§Øª ØªÙ†ÙÙŠØ° Ø£Ø³Ø§Ø³ÙŠØ©","Ø®Ø·Ø· Ù…ØªØ§Ø¨Ø¹Ø© Ù‚ØµÙŠØ±Ø©"],
       analysis:["Ø§Ù„ØªØ²Ø§Ù… Ø¨Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰","ØªÙØ§ÙˆØª Ø¨Ø³ÙŠØ· ÙÙŠ Ø§Ù„Ø¬ÙˆØ¯Ø©"],
       improve:["Ø²ÙŠØ§Ø¯Ø© Ø§Ù„ØªÙˆØ«ÙŠÙ‚","ØªØ­Ø¯ÙŠØ¯ ÙØ¬ÙˆØªÙŠÙ† Ù…Ø­ÙˆØ±ÙŠØªÙŠÙ† ÙˆÙ…Ø¹Ø§Ù„Ø¬ØªÙ‡Ù…Ø§"]},
    2:{desc:"ØªØ°Ø¨Ø°Ø¨ ÙÙŠ Ø§Ù„Ø£Ø¯Ø§Ø¡ ÙŠØ­ØªØ§Ø¬ Ù…ØªØ§Ø¨Ø¹Ø© Ù„ØµÙŠÙ‚Ø© ÙˆØªÙˆØ¬ÙŠÙ‡Ù‹Ø§ Ù…Ø³ØªÙ…Ø±Ù‹Ø§.",
       ev:["ØªÙ†Ø¨ÙŠÙ‡Ø§Øª/Ø®Ø·Ø© ØªØµØ­ÙŠØ­","Ù…ØªØ§Ø¨Ø¹Ø© Ø£Ø³Ø¨ÙˆØ¹ÙŠØ©"],
       analysis:["Ø¶Ø¹Ù Ø§ØªØ³Ø§Ù‚ Ø§Ù„ØªÙ†ÙÙŠØ°","Ø§Ø¹ØªÙ…Ø§Ø¯ Ø¹Ù„Ù‰ Ø§Ù„ØªØ°ÙƒÙŠØ±"],
       improve:["Ø®Ø·Ø© Ø§Ù„ØªØ²Ø§Ù… Ø´Ø®ØµÙŠØ©","Ù„ÙˆØ­Ø© Ù…Ø¤Ø´Ø±Ø§Øª Ù…Ø¨Ø³Ø·Ø© Ù„Ù„Ù…ØªØ§Ø¨Ø¹Ø©"]},
    1:{desc:"Ù‚ØµÙˆØ± ÙˆØ§Ø¶Ø­ Ø¯ÙˆÙ† Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰.",
       ev:["Ø¥Ù†Ø°Ø§Ø±Ø§Øª/Ù…Ø®Ø§Ù„ÙØ§Øª","Ù…Ø­Ø§Ø¶Ø± ØªÙ‚ØµÙŠØ±"],
       analysis:["ØºÙŠØ§Ø¨/ØªØ£Ø®Ø± Ù…ØªÙƒØ±Ø±","Ø¥Ø®ÙØ§Ù‚ ÙÙŠ Ù…ØªØ·Ù„Ø¨Ø§Øª Ø£Ø³Ø§Ø³ÙŠØ©"],
       improve:["Ø§Ù„ØªØ²Ø§Ù… ÙÙˆØ±ÙŠ ÙˆØ®Ø·Ø© Ø¹Ù„Ø§Ø¬ÙŠØ© Ù…ÙÙ„Ø²ÙÙ…Ø©","Ù…ØªØ§Ø¨Ø¹Ø© ÙŠÙˆÙ…ÙŠØ© Ù„ÙØªØ±Ø© Ù…Ø­Ø¯Ø¯Ø©"]}
  },
  // ØªØ®ØµÙŠØµ Ù…Ø®ØªØµØ± Ù„Ø¹Ù†Ø§ØµØ± Ø®Ø§ØµØ© (Ø£Ù…Ø«Ù„Ø©)
  activity_plan:{
    5:{desc:"Ø®Ø·Ø© Ø³Ù†ÙˆÙŠØ© Ù…Ø­ÙƒÙ…Ø© Ø¨Ù…Ø¤Ø´Ø±Ø§Øª Ù…ÙØ¹ØªÙ…Ø¯Ø© ÙˆØªÙ†ÙÙŠØ° ÙƒØ§Ù…Ù„ ÙˆØªÙ‚Ø§Ø±ÙŠØ± Ø£Ø«Ø± Ù†ÙˆØ¹ÙŠ.",
       ev:["Ø®Ø·Ø© Ù…Ø¹ØªÙ…Ø¯Ø©","ØªÙ‚Ø§Ø±ÙŠØ± Ø£Ø«Ø± Ø´Ù‡Ø±ÙŠØ©/ÙØµÙ„ÙŠØ©","ØµÙˆØ±/Ø±ÙˆØ§Ø¨Ø· Ø¥Ù†ØªØ§Ø¬"],
       analysis:["Ù…ÙˆØ§Ø¡Ù…Ø© Ø§Ù„Ø®Ø·Ø© Ù„Ù„ØªÙ‚ÙˆÙŠÙ… Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ","Ø´Ø±Ø§ÙƒØ§Øª Ø¯Ø§Ø®Ù„ÙŠØ© ÙˆØ®Ø§Ø±Ø¬ÙŠØ©"],
       improve:["Ø£ØªÙ…ØªØ© Ù‚ÙŠØ§Ø³ Ø§Ù„Ù…Ø¤Ø´Ø±Ø§Øª","Ù†Ø´Ø± Ù‚ØµØµ Ù†Ø¬Ø§Ø­ Ù…Ø®ØªØµØ±Ø©"]},
    4:{desc:"ØªÙ†ÙÙŠØ° Ù…Ø±ØªÙØ¹ Ù…Ø¹ Ù…ØªØ§Ø¨Ø¹Ø© Ø¯ÙˆØ±ÙŠØ©.",ev:["Ù…Ø­Ø§Ø¶Ø± ØªÙ†ÙÙŠØ° Ù…Ù†ØªØ¸Ù…"],analysis:["ØªÙˆØ²ÙŠØ¹ Ø£Ø¯ÙˆØ§Ø± ÙˆØ§Ø¶Ø­"],improve:["Ø³Ø¯ Ø§Ù„ÙØ¬ÙˆØ§Øª Ø§Ù„Ù…ØªØ¨Ù‚ÙŠØ©"]},
    3:{desc:"Ø®Ø·Ø© Ø£Ø³Ø§Ø³ÙŠØ© ÙˆØªÙ†ÙÙŠØ° Ù…Ù‚Ø¨ÙˆÙ„.",ev:["Ø®Ø·Ø© Ù…Ø®ØªØµØ±Ø©"],analysis:["Ø¶Ø¹Ù Ø§Ù„Ù‚ÙŠØ§Ø³"],improve:["ØªØ¹Ø²ÙŠØ² Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ù‚ÙŠØ§Ø³"]}
  },
  health_joint_plan:{
    5:{desc:"Ø®Ø·Ø© ØµØ­ÙŠØ© Ù…Ø´ØªØ±ÙƒØ© Ø¨Ù…Ø¤Ø´Ø±Ø§Øª ÙˆÙ‚Ø§Ø¦ÙŠØ©/Ø¹Ù„Ø§Ø¬ÙŠØ© Ù…ØªØ­Ù‚Ù‚Ø© ÙˆØ£Ø«Ø± Ø¹Ù„Ù‰ Ø§Ù„Ø­Ø¶ÙˆØ± ÙˆØ§Ù„Ø§Ù†Ø¶Ø¨Ø§Ø· Ø§Ù„ØµØ­ÙŠ.",
       ev:["Ù†Ù…Ø§Ø°Ø¬ ØªØ«Ù‚ÙŠÙ ØµØ­ÙŠ Ù…Ø¹ ØªÙˆÙ‚ÙŠØ¹Ø§Øª","ØªÙ‚Ø§Ø±ÙŠØ± Ø­Ø§Ù„Ø§Øª Ù‚Ø¨Ù„/Ø¨Ø¹Ø¯"],analysis:["ØªÙ†Ø³ÙŠÙ‚ Ù…Ø¹ Ø§Ù„Ø¬Ù‡Ø§Øª Ø§Ù„ØµØ­ÙŠØ©"],improve:["ØªÙˆØ³ÙŠØ¹ Ø§Ù„Ù…Ø¨Ø§Ø¯Ø±Ø§Øª Ø§Ù„ÙˆÙ‚Ø§Ø¦ÙŠØ©"]},
  },
  kg_env_safe:{
    5:{desc:"Ø¨ÙŠØ¦Ø© Ø¢Ù…Ù†Ø© Ø«Ø±ÙŠØ© Ø¨Ø§Ù„Ø²ÙˆØ§ÙŠØ§ Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ© ØªØ¯Ø¹Ù… Ø§Ù„Ù†Ù…Ùˆ Ø§Ù„Ù†Ù…Ø§Ø¦ÙŠ ÙˆØ§Ù„Ù„ØºÙˆÙŠ ÙˆØ§Ù„Ø³Ù„ÙˆÙƒ Ø§Ù„Ø¥ÙŠØ¬Ø§Ø¨ÙŠ.",
       ev:["Ù‚ÙˆØ§Ø¦Ù… ØªØ­Ù‚Ù‚ Ø£Ù…Ù† ÙˆØ³Ù„Ø§Ù…Ø©","ØµÙˆØ± Ø¨ÙŠØ¦Ø§Øª ØªØ¹Ù„Ù… Ù†Ø´Ø·Ø©"],analysis:["ØªÙˆØ²ÙŠØ¹ Ù…Ù†Ø§Ø·Ù‚ Ø§Ù„ØªØ¹Ù„Ù… Ø¨Ø°ÙƒØ§Ø¡"],improve:["Ø±Ø¨Ø· Ø§Ù„Ø¨ÙŠØ¦Ø© Ø¨Ù…Ø¤Ø´Ø±Ø§Øª Ø§Ù„Ù„ØºØ© ÙˆØ§Ù„Ø³Ù„ÙˆÙƒ"]},
  },
  lab_weekly_report:{
    5:{desc:"ØªÙ‚Ø§Ø±ÙŠØ± Ø£Ø³Ø¨ÙˆØ¹ÙŠØ© Ø¯Ù‚ÙŠÙ‚Ø© ØªÙØªØ±Ø¬Ù… Ø¥Ù„Ù‰ ØªØ­Ø³ÙŠÙ†Ø§Øª ØªØ´ØºÙŠÙ„ÙŠØ© Ù„Ù„Ù…Ø®ØªØ¨Ø±.",
       ev:["Ù†Ù…Ø§Ø°Ø¬ Ù…ÙˆÙ‚Ø¹Ø©/Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ©","Ø³Ø¬Ù„ ØªØ­Ø³ÙŠÙ†Ø§Øª"],analysis:["ØªØ­Ù„ÙŠÙ„ Ø£Ø¹Ø·Ø§Ù„ Ø§Ù„Ø£Ø¬Ù‡Ø²Ø©"],improve:["Ø£ØªÙ…ØªØ© Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± ÙˆÙ„ÙˆØ­Ø© Ù…ØªØ§Ø¨Ø¹Ø©"]},
  }
};

/* ============= 4) ÙˆØ§Ø¬Ù‡Ø©: Ø´Ø±ÙŠØ· Ø§Ù„Ù†Ù…Ø§Ø°Ø¬ + Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª ============= */
let currentModel = MODELS[0].id;

function renderModelsBar(){
  const bar = document.getElementById('modelsBar');
  bar.innerHTML = MODELS.map(m=>`
    <button class="model-icon ${m.id===currentModel?'active':''}" onclick="selectModel('${m.id}')">
      <span>${m.icon}</span><b>${m.name}</b>
    </button>
  `).join('');
}

function selectModel(id){
  currentModel = id;
  renderModelsBar();
  renderCards();
}

function renderCards(){
  const model = MODELS.find(m=>m.id===currentModel);
  const g = document.getElementById('cardsContainer');
  g.innerHTML = model.items.map(([title,weight,key])=>`
    <div class="card p-5">
      <h3 class="font-bold text-[var(--moe-d)] text-lg mb-1">${title}</h3>
      <p class="text-sm text-[var(--muted)] mb-2">Ø³ÙÙ„Ù‘Ù… Ø§Ù„ØªÙ‚Ø¯ÙŠØ± (Ù¥â†’Ù¡) Ù…Ø¹ Ø´ÙˆØ§Ù‡Ø¯ ÙˆØªØ­Ù„ÙŠÙ„ ÙˆØªØ¹Ø²ÙŠØ² Ù„Ù„Ø£Ø«Ø±.</p>
      <div class="grad-bar mb-3" aria-hidden="true"></div>
      <div class="flex items-center gap-2 text-sm">
        <span class="tag">Ø§Ù„ÙˆØ²Ù†: <b>${weight}</b></span>
        <span class="tag">Ø§Ù„Ø³Ù„Ù…: Ù¥â€“Ù¡</span>
      </div>
      <div class="mt-4">
        <button class="px-4 py-2 rounded-xl font-bold text-white" style="background:var(--grad)" onclick="openModal('${title}','${weight}','${key}')">Ø¹Ø±Ø¶ Ø§Ù„ØªÙØ§ØµÙŠÙ„</button>
      </div>
    </div>
  `).join('');
}

/* ============= 5) Ù†Ø§ÙØ°Ø© Ø§Ù„Ø¹Ù†ØµØ± ============= */
let currentLevel = 5, modalKey='';

function bankFor(key){
  return RUBRIC[key] || RUBRIC.common;
}
function fillEvidenceList(arr){
  return (arr||[]).map(x=>`<li>${x}</li>`).join('');
}

function openModal(itemTitle, weight, key){
  modalKey = key; currentLevel = 5;

  document.getElementById('modalTitle').textContent = itemTitle + " â€“ Ù…Ø³ØªÙˆÙ‰ " + currentLevel;
  document.getElementById('metaWeight').textContent = weight;

  // ØªØ¨ÙˆÙŠØ¨Ø§Øª Ø§Ù„Ù…Ø³ØªÙˆÙ‰
  const tabs = document.getElementById('levelTabs');
  tabs.innerHTML = [5,4,3,2,1].map(l=>`
    <button class="level-pill ${l===currentLevel?'active':''}" onclick="setLevel(${l})">${l}</button>
  `).join('');

  // ØªÙØ§Ø¹Ù„ Ø§Ù„ÙˆØ²Ù† (Ù†Ø¨Ø¶ Ø¹Ù†Ø¯ Ø§Ù„ÙØªØ­)
  const wc = document.getElementById('weightChip');
  wc.classList.remove('pulse'); void wc.offsetWidth; wc.classList.add('pulse');

  setLevel(currentLevel);
  const modal = document.getElementById('modal');
  modal.classList.remove('hidden'); modal.classList.add('flex');
}

function setLevel(level){
  currentLevel = level;
  [...document.querySelectorAll('#levelTabs .level-pill')].forEach(b=>{
    b.classList.toggle('active', Number(b.textContent)===level);
  });

  const bank = bankFor(modalKey);
  const R = bank[level] || RUBRIC.common[level];

  // Ø§Ù„ÙˆØµÙ
  document.getElementById('descText').textContent = R.desc || "â€”";

  // Ø§Ù„Ø´ÙˆØ§Ù‡Ø¯ (ØµÙ†Ø¯ÙˆÙ‚ Ù…Ù„ÙˆÙ† Ø­Ø³Ø¨ Ø§Ù„Ù…Ø³ØªÙˆÙ‰ + Ù‚Ø§Ø¦Ù…Ø© Ø£Ù…Ø«Ù„Ø©)
  const evBox = document.getElementById('evidenceBox');
  const evClass = level>=4 ? 'ev-green' : level===3 ? 'ev-amber' : 'ev-red';
  evBox.className = `evidence-box ${evClass}`;
  evBox.textContent = (R.ev && R.ev.length) ? "Ø£Ù…Ø«Ù„Ø© Ø´ÙˆØ§Ù‡Ø¯ Ù…ÙˆØ«Ù‘Ù‚Ø© Ù„Ù‡Ø°Ø§ Ø§Ù„Ù…Ø³ØªÙˆÙ‰:" : "Ø±Ø¬Ø§Ø¡Ù‹ Ø£Ø±ÙÙ‚ Ø´ÙˆØ§Ù‡Ø¯ Ù…ÙˆØ«Ù‘Ù‚Ø© Ù…Ø±ØªØ¨Ø·Ø© Ù…Ø¨Ø§Ø´Ø±Ø© Ø¨Ø§Ù„Ø¹Ù†ØµØ±.";
  document.getElementById('evidenceList').innerHTML = fillEvidenceList(R.ev);

  // Ø§Ù„ØªØ­Ù„ÙŠÙ„ + Ø§Ù„ØªØ­Ø³ÙŠÙ†
  const UL = arr => (arr||[]).map(x=>`<li>${x}</li>`).join('');
  document.getElementById('analysisList').innerHTML = UL(R.analysis);
  document.getElementById('improveList').innerHTML  = UL(R.improve);

  // Ù…Ù‚ÙŠØ§Ø³ Ø§Ù„Ø£Ø«Ø± (ÙˆØ²Ù† Ã— Ù…Ø³ØªÙˆÙ‰)
  const weightText = document.getElementById('metaWeight').textContent.trim().replace('%','');
  const w = Number(weightText)||0;
  const levelFactor = [1,2,3,4,5].indexOf(level)+1; // 1..5
  const pct = Math.round((w*(levelFactor/5)));
  document.getElementById('impactValue').textContent = pct + "%";

  const fill = document.getElementById('impactFill');
  fill.style.width = pct + "%";
  fill.style.background = level>=4 ? 'linear-gradient(90deg,var(--green),#22c55e)' :
                        level===3 ? 'linear-gradient(90deg,var(--amber),#f59e0b)' :
                                    'linear-gradient(90deg,var(--red),#ef4444)';

  // ÙˆÙ…ÙŠØ¶ Ø§Ù„ÙˆØ²Ù† Ø¹Ù†Ø¯ ØªØºÙŠÙŠØ± Ø§Ù„Ù…Ø³ØªÙˆÙ‰
  const wc = document.getElementById('weightChip');
  wc.classList.remove('pulse'); void wc.offsetWidth; wc.classList.add('pulse');
}

function closeModal(){ document.getElementById('modal').classList.add('hidden'); }

/* ============= 6) ØªØ´ØºÙŠÙ„ ============= */
window.addEventListener('DOMContentLoaded', async ()=>{
  await importHeader();
  // Ø´Ø±ÙŠØ· Ø§Ù„Ù†Ù…Ø§Ø°Ø¬
  const bar = document.getElementById('modelsBar');
  bar.innerHTML = MODELS.map(m=>`<button class="model-icon ${m.id===currentModel?'active':''}" onclick="selectModel('${m.id}')"><span>${m.icon}</span><b>${m.name}</b></button>`).join('');
  renderCards();

  const modal = document.getElementById('modal');
  modal.addEventListener('click', (e)=>{ if(e.target===modal) closeModal(); });
  document.addEventListener('keydown',(e)=>{ if(e.key==='Escape' && !modal.classList.contains('hidden')) closeModal(); });
});
</script>
</body>
</html>
